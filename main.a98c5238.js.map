{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","DETAILS_URL","logo","document","querySelector","list","createElement","getPhones","fetch","then","response","ok","setTimeout","Error","status","json","getPhonesDetails","phonesId","phones","forEach","phone","push","id","phonesDetails","map","itemId","Promise","all","details","addPhoneToList","name","catch","error","phonesName","insertAdjacentHTML","after"],"mappings":";AAAA,aAEA,IAAMA,EACF,wEACEC,EACF,oEACEC,EAAOC,SAASC,cAAc,SAC9BC,EAAOF,SAASG,cAAc,MAE9BC,EAAY,WACTC,OAAAA,MAAMR,GACVS,KAAK,SAAAC,GAKGA,OAJFA,EAASC,IACZC,WAAW,WAAM,OAAA,IAAIC,MAASH,GAAAA,OAAAA,EAASI,UAAW,KAG7CJ,EAASK,UAIhBC,EAAmB,WACjBC,IAAAA,EAAW,GAEjBV,IACGE,KAAK,SAAAS,GACJA,EAAOC,QAAQ,SAAAC,GAASH,OAAAA,EAASI,KAAKD,EAAME,MAEtCC,IAAAA,EAAgBN,EAASO,IAAI,SAAAC,GACjCjB,OAAAA,MAASP,GAAAA,OAAAA,GAAcwB,OAAAA,EAAvB,UACGhB,KAAK,SAAAC,GAAYA,OAAAA,EAASK,WAE/BW,QAAQC,IAAIJ,GACTd,KAAK,SAAAmB,GAAWA,OAAAA,EAAQT,QAAQ,SAAAC,GAASS,OAAAA,EAAeT,EAAMU,YAElEC,MAAM,SAAAC,GAAS,OAAA,IAAInB,MAAMmB,MAK9B,SAASH,EAAeI,GACtB5B,EAAK6B,mBAAmB,YAAoBD,OAAAA,OAAAA,EAA5C,UAHFjB,IAMAd,EAAKiC,MAAM9B","file":"main.a98c5238.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\nconst DETAILS_URL\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\nconst logo = document.querySelector('.logo');\nconst list = document.createElement('ul');\n\nconst getPhones = () => {\n  return fetch(BASE_URL)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => new Error(`${response.status}`), 5000);\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhonesDetails = () => {\n  const phonesId = [];\n\n  getPhones()\n    .then(phones => {\n      phones.forEach(phone => phonesId.push(phone.id));\n\n      const phonesDetails = phonesId.map(itemId =>\n        fetch(`${DETAILS_URL}${itemId}.json`)\n          .then(response => response.json()));\n\n      Promise.all(phonesDetails)\n        .then(details => details.forEach(phone => addPhoneToList(phone.name)));\n    })\n    .catch(error => new Error(error));\n};\n\ngetPhonesDetails();\n\nfunction addPhoneToList(phonesName) {\n  list.insertAdjacentHTML('beforeend', `<li>${phonesName}</li>`);\n};\n\nlogo.after(list);\n"]}